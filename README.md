
# Командор. Тестовое задание на должность **разработчик ETL**

## Текст задания
### Задание 1	
Есть файл «Продажи по кассам.xlsx», в котором представлены суммы продаж по каждой работающей кассе за заданный период. 
Есть справочник касс в файле «Справочник касс.xlsx». 
Необходимо написать скрипт загрузки данных на языке Python из файла «Продажи по кассам.xlsx» с использованием справочника касс и сохранить результат в любую бесплатную файловую базу данных (на Ваше усмотрение). 

Структура таблицы, куда будет сохранены данные файла следующая:
- date_fact — текущая дата;
- store_id — код магазина из справочника касс;
- store_name — название магазина;
- cash_id — код кассы;
- cash_name — название кассы;
- sale_sum — сумма продажи.

### Задание 2
Вторым скриптом на языке Python необходимо сделать верификацию загруженных ранее данных. Для этого необходимо загрузить из таблицы базы данных из предыдущего пункта данные с агрегацией в разрезе магазинов. Затем в другой датафрейм загрузить данные из файла «Продажи по магазинам.xlsx» и сделать сравнение цифр из колонки sale_sum из базы данных и из файла. 
Вывести те магазины, в которых эти суммы различаются.

## Запуск
main.ipynb файл был предназначен для ознакомления с данными и наброска решения задач. Сами решения распологаются в файлах task_1.py и task_2.py соответственно для каждого задания.
Данные должны храниться в папке data/
Перед запуском необходимо выбрать нужное окружение и выполнить загрузку библиотек:
- `pip install -r requirements.txt`
Далее для запуска выполнения первого задания:
- `python task_1.py`
Данные сохранятся в БД по пути settings.DB_DIR\settings.DB_FILENAME
И то же самое для второго задания:
- `python task_2.py`
Результат выведется в консоль